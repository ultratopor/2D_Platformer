# 2D_Platformer
Жданов Владимир

# Архитектура


Основные данные хранятся в PlatformerModel, экземпляр которого передаётся через статический контейнер InstanceRegister симуляцией дискретных событий Simulation всем нуждающимся. Симуляция принимает события Event, сохраняет их в словарик и передаёт в очередь HeapQueue. Там события просеиваются в бинарное дерево согласно присвоенному тику. Поэтому в очереди первым событием стоит всегода самое раннее. В GameController находится контейнер PlatformerModel, поэтому на сцене можн очерез него прокинуть все ссыли и настроить настройки. Там же в GameController обрабатывается очередь событий. Получается, Чтобы прокинуть какое-нибудь действие, нужн оэто действие завернуть в новый класс, этот класс завернуть в событие Event, внутри нужные ссылки прокинуть через контейнер PlatformerModel. В Event также можно создать условие выполения, если оно не выполняется симуляция перекидывает событие на следующий тик. 
В папке Core прячестя симуляция, в Gameplay лежат все события, в Mechanics всякие управляющие скрипты, модель лежит в Model, в UI лежит управление UI, во View прячется управление параллаксом.

# Известные проблемы

1) В PlatformerModel хоть и хранятся некоторые данные, однако мне не удалось за отведённое время сделать так со всеми данными. Некоторые данные раскиданы по разным скриптам. Это усложняет настройку. Было бы неплохо создать ScriptableObjects с нужными полями и прокинуть их в модель. Чтобы всё было в одном месте. 
2) Было бы неплохо отделить управление анимацией от нынешних файлов в отдельный скрипт. Для управления в файлах использовать интерфейс Управления анимацией.
3) Общие для игрока и врага классы сильно связаны и имеют лишние методы и свойства, ненужные для поставленной задачи. Нужо их переделать.
4) Повсюду используются публичные поля. Это нарушает инкапсуляцию. Надо бы передавать данные через свойства и прокидывать ссылки через доплнитекльные события.
